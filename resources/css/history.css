:root{
  --bg:#F3F1ED;
  --panel:#F6F7FA;
  --surface:#FFFFFF;
  --text:#0F1020;
  --muted:#6E7180;
  --brand:#0B1555;
  --rail-line:#D9DCE5;
  --radius:14px;
  --shadow:0 10px 28px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:var(--text);background:var(--bg)}

/* Header */
.app-header{
  position:fixed; inset:0 0 auto 0; height:70px;
  display:grid; grid-template-columns: 220px 1fr 220px; align-items:center;
  padding:0 18px; background:var(--surface); border-bottom:1px solid #E5E7EF; z-index:50;
}
.app-title{ margin:0; text-align:center; font-weight:800; color:var(--brand);  font-size: clamp(22px, 2.6vw, 10px); }
.header-left,.header-right{ display:flex; flex-direction:column; gap:6px; }
.header-left{ align-items:flex-start; }
.header-right{ align-items:flex-end; }
.header-link{ display:inline-flex; align-items:center; gap:8px; font-size:14px; color:#5f6475; text-decoration:none; }
.header-link:hover{ color:#2b2f3b; }
.user-name{ font-weight:700; color:#2b2f3b; font-size:14px; }
.user-id{ font-size:12px; color:#7b7f8f; }

/* Right rail */
.right-tabs{
  position:fixed; top:70px; right:0; bottom:0; width:118px;
  background:var(--panel); border-left:1px solid var(--rail-line); z-index:40;
  display:flex; justify-content:center; padding-top:18px;
}
.tabs-nav{ display:flex; flex-direction:column; gap:22px; width:100%; padding:0 16px; }
.tab-link{
  display:flex; flex-direction:column; align-items:center; gap:10px; text-decoration:none; color:#2b2f3b;
  padding:14px 10px; border-radius:14px; transition:.2s; border:1px solid transparent;
}
.tab-link svg{ width:30px; height:30px; }
.tab-link span{ font-size:14px; }
.tab-link.active{ background:#fff; border-color:#E6E8F1; box-shadow:var(--shadow); }
.tab-link:hover{ background:#fff; }

/* Main */
.app-main{ padding-top:70px; padding-right:118px; min-height:100vh; }

/* Page head */
.history-wrap{ padding: 20px 20px 40px; }
.history-head{
  display:grid; grid-template-columns: 1fr auto; align-items:start; gap:12px;
  padding: 12px 8px 0 8px;
}
.lead p{
  margin:0;
  max-width: 760px;
  font-size: 18px;
  line-height: 1.55;
  color:#1e2433;
}
.icon-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:38px; height:38px; border-radius:10px; border:1px solid #D7DBE8;
  background:#fff; box-shadow:var(--shadow); cursor:pointer;
}
.icon-btn:hover{ filter:brightness(1.02); }

/* Cards grid */
.cards{
  display:grid;
  grid-template-columns: repeat(4, minmax(220px, 1fr));
  gap: 22px;
  padding: 14px 8px;
}
.card{
  background:#F2F3F7; border:1px solid #E6E8F1; border-radius:12px; padding:14px;
  box-shadow: 0 4px 12px rgba(0,0,0,.05);
  display:flex; flex-direction:column; gap:12px;
}
.card .thumb{
  width:100%; height:160px; border-radius:8px; object-fit:cover; background:#e6e8f1;
}
.card .label{ text-align:center; font-weight:700; color:#23283A; }
.card .meta{ text-align:center; color:#60667a; font-size:12px; }
.card .actions{ display:flex; justify-content:center; }
.btn{
  border:0; cursor:pointer; font-weight:700; border-radius:999px; padding:10px 22px;
}
.btn.primary{ background:var(--brand); color:#fff; }
.btn.primary:hover{ transform:translateY(-1px); }

/* Filter dialog */
.filter-dialog{
  border:0; padding:0; border-radius:14px; width:min(560px, 92vw);
  box-shadow: 0 24px 60px rgba(0,0,0,.25);
}
.filter-dialog::backdrop{ background: rgba(15,17,30,.45); }
.filter-content{ background:#fff; border-radius:14px; padding:20px; }
.filter-content h3{ margin:0 0 16px; font-size:28px; font-weight:800; color:#0F1020; }
.chips{ display:flex; gap:16px; flex-wrap:wrap; margin-bottom:16px; }
.chip{
  background:#fff; border:1.5px solid #C8CCDA; padding:10px 16px; border-radius:10px;
  font-weight:600; cursor:pointer;
}
.chip.active{ border-color:#0B1555; color:#0B1555; box-shadow:0 2px 10px rgba(11,21,85,.15); }
.filter-actions{ display:flex; gap:10px; justify-content:flex-end; }
.btn.outline{ background:#fff; border:1.5px solid #0B1555; color:#0B1555; }

/* Responsive */
@media (max-width:1200px){
  .cards{ grid-template-columns: repeat(3, minmax(220px, 1fr)); }
}
@media (max-width:900px){
  .cards{ grid-template-columns: repeat(2, minmax(220px, 1fr)); }
}
@media (max-width:600px){
  .app-main{ padding-right:70px; }
  .right-tabs{ width:70px; }
  .tab-link span{ display:none; }
  .cards{ grid-template-columns: 1fr; }
}
